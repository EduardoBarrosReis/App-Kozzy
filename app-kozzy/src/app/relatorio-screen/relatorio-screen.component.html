<div class="relatorio-screen-container">
  <div class="relatorio-header">
    <div class="header-left">
      <h2 class="relatorio-title">ğŸ“Š RelatÃ³rio de Chamados</h2>
      <p class="relatorio-subtitle">Visualize e analise os dados dos chamados</p>
    </div>
    <div class="header-actions">
      <button class="btn btn-filter" (click)="openFilterModal.emit()">
        <svg viewBox="0 0 24 24">
          <path d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707L13 14v6a1 1 0 01-.553.894l-4 2A1 1 0 017 22v-8L.293 7.293A1 1 0 010 6.586V4a1 1 0 011-1z"></path>
        </svg>
        Filtrar RelatÃ³rio
      </button>
      <button class="btn btn-export" (click)="exportarRelatorio()">
        <svg viewBox="0 0 24 24">
          <path d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
        </svg>
        Exportar
      </button>
      <button class="btn btn-close" (click)="closeReportScreen.emit()">
        <svg viewBox="0 0 24 24">
          <path d="M6 18L18 6M6 6l12 12"></path>
        </svg>
        Voltar
      </button>
    </div>
  </div>

  <!-- EstatÃ­sticas do RelatÃ³rio -->
  <div class="relatorio-stats" *ngIf="chamados && chamados.length > 0">
    <div class="stat-card">
      <div class="stat-icon total">ğŸ“Š</div>
      <div class="stat-info">
        <span class="stat-number">{{ chamados.length }}</span>
        <span class="stat-label">Total de Chamados</span>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon abertos">ğŸ”´</div>
      <div class="stat-info">
        <span class="stat-number">{{ getStatusCount('aberto') }}</span>
        <span class="stat-label">Abertos</span>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon andamento">ğŸŸ¡</div>
      <div class="stat-info">
        <span class="stat-number">{{ getStatusCount('em-andamento') }}</span>
        <span class="stat-label">Em Andamento</span>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon fechados">ğŸŸ¢</div>
      <div class="stat-info">
        <span class="stat-number">{{ getStatusCount('fechado') }}</span>
        <span class="stat-label">Fechados</span>
      </div>
    </div>
  </div>

  <!-- Tabela de RelatÃ³rio -->
  <app-relatorio-tabela *ngIf="chamados && chamados.length > 0" [chamados]="chamados"></app-relatorio-tabela>

  <!-- Estado Vazio -->
  <div *ngIf="!chamados || chamados.length === 0" class="empty-state">
    <div class="empty-icon">ğŸ¤·â€â™‚ï¸</div>
    <h3>Nenhum chamado encontrado</h3>
    <p>Tente ajustar os critÃ©rios de busca ou crie novos chamados.</p>
    <button class="btn btn-filter" (click)="openFilterModal.emit()">
      <svg viewBox="0 0 24 24">
        <path d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707L13 14v6a1 1 0 01-.553.894l-4 2A1 1 0 017 22v-8L.293 7.293A1 1 0 010 6.586V4a1 1 0 011-1z"></path>
      </svg>
      Ajustar Filtros
    </button>
  </div>
</div>

